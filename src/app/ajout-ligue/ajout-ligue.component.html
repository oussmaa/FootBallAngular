<app-sid-bar></app-sid-bar>

<button nz-button nzType="primary" class="left" (click)="showModal()">Ajout Ligue</button>
<nz-modal [(nzVisible)]="isVisible" nzTitle="Add User" (nzOnCancel)="handleCancel()" >
  <ng-container *nzModalContent>
  <form [formGroup]="registerForm" (ngSubmit)="submitForm()">
    <nz-form-item>
      <nz-form-label >nom Lique</nz-form-label>
      <nz-form-control [nzSm]="14" [nzXs]="24" >
        <input nz-input formControlName="nomLigue"  nzWidth="25%"id="firstName" />
      </nz-form-control> 
      <div style="display: block; font-size: 15px; color:rgb(236, 23, 23)"  *ngIf="(registerForm.controls['nomLigue'].dirty || registerForm.controls['nomLigue'].touched) " >
        <ng-container *ngIf="registerForm.controls['nomLigue'].errors?.['required'] ; then TemplateUsernameInvalid"></ng-container>
        <ng-template #TemplateUsernameInvalid>
  
            nomLigue is required
        </ng-template>
 
  
      </div>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label >Saison</nz-form-label>
      <nz-form-control [nzSm]="14" [nzXs]="24" >
        <input
        class="form-control"
        type="text"
        mwlFlatpickr
        formControlName="saison" 
         [altInput]="true"
        [convertModelValue]="true"
         
        [enableTime]="true"
        dateFormat="Y-m-dTH:i"
        altFormat="F j, Y H:i"
        placeholder="Not set"
      />
      </nz-form-control> 
      <div style="display: block; font-size: 15px; color:rgb(236, 23, 23)"  *ngIf="(registerForm.controls['saison'].dirty || registerForm.controls['saison'].touched) " >
        <ng-container *ngIf="registerForm.controls['saison'].errors?.['required'] ; then TemplateadresseInvalid"></ng-container>
        <ng-template #TemplateadresseInvalid>
  
            saison is required
        </ng-template>
 
  
      </div>
    </nz-form-item>
 
 
    <nz-form-item nz-row class="register-area">
      <nz-form-control [nzSpan]="14" [nzOffset]="6">
        <button class=" btn btn-fill btn-danger" type="submit" [disabled]="this.registerForm.invalid"  >Save</button>
      </nz-form-control>
    </nz-form-item>
  </form>
  

    </ng-container>
</nz-modal> 
<nz-modal [(nzVisible)]="isVisibleupdate" nzTitle="Add User" (nzOnCancel)="handleCancelupdate()" >
  <ng-container *nzModalContent>
  <form [formGroup]="registerForm" (ngSubmit)="submitFormupdate()">
    <nz-form-item>
        <nz-form-label >nom Lique</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24" >
          <input nz-input formControlName="nomLigue"  nzWidth="25%"id="firstName" />
        </nz-form-control> 
        <div style="display: block; font-size: 15px; color:rgb(236, 23, 23)"  *ngIf="(registerForm.controls['nomLigue'].dirty || registerForm.controls['nomLigue'].touched) " >
          <ng-container *ngIf="registerForm.controls['nomLigue'].errors?.['required'] ; then TemplateUsernameInvalid"></ng-container>
          <ng-template #TemplateUsernameInvalid>
    
              nomLigue is required
          </ng-template>
   
    
        </div>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label >Saison</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24" >
          <input
          class="form-control"
          type="text"
          mwlFlatpickr
          formControlName="saison" 
           [altInput]="true"
          [convertModelValue]="true"
           
          [enableTime]="true"
          dateFormat="Y-m-dTH:i"
          altFormat="F j, Y H:i"
          placeholder="Not set"
        />        </nz-form-control> 
        <div style="display: block; font-size: 15px; color:rgb(236, 23, 23)"  *ngIf="(registerForm.controls['saison'].dirty || registerForm.controls['saison'].touched) " >
          <ng-container *ngIf="registerForm.controls['saison'].errors?.['required'] ; then TemplateadresseInvalid"></ng-container>
          <ng-template #TemplateadresseInvalid>
    
              saison is required
          </ng-template>
   
    
        </div>
      </nz-form-item>
 
   
    <nz-form-item nz-row class="register-area">
      <nz-form-control [nzSpan]="14" [nzOffset]="6">
        <button class=" btn btn-fill btn-danger" type="submit" [disabled]="this.registerForm.invalid" >Save</button>
      </nz-form-control>
    </nz-form-item>
  </form>
  

    </ng-container>
</nz-modal> 
<div class="Marge">
<nz-table #editRowTable nzBordered nzTableLayout="fixed">
    <thead>
      <tr>
        <th nzWidth="40%">nom Ligue</th>
        <th nzWidth="40%">Saison</th>
 

        <th>Action</th>

 


      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let data of ligue">
        <ng-container >
          <td>{{ data.nomLigue }}</td>
          <td>{{ data.saison }}</td>
 

          <td><a  (click)="showModalupdate(data)" >Edit</a> <br><a (click)="showConfirm(data.idLigue)" >Delete</a></td>
        </ng-container>
 
      </tr>
    </tbody>
  </nz-table>

</div>